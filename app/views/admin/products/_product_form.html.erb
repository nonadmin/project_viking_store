<div class="panel-padding">
  <p>
    <strong>
      Product ID: 
      <%= product.persisted? ? product.id : "N/A" %>
    </strong>
  </p>

  <%= form_for( [:admin, product] ) do |f| %>
      
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name  %>

        <div class="error-explanation">
          <ul>
            <% product.errors.full_messages_for(:name).each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>

      </div>

      <div class="form-group">
        <%= f.label :sku %>
        <%= f.text_field :sku  %>

        <div class="error-explanation">
          <ul>
            <% product.errors.full_messages_for(:sku).each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>

      </div>

      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description %>

        <div class="error-explanation">
          <ul>
            <% product.errors.full_messages_for(:description).each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>

      </div>

      <div class="form-group">
        <%= f.label :price %>
        <%= f.text_field :price %>

        <div class="error-explanation">
          <ul>
            <% product.errors.full_messages_for(:price).each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>

      </div>

      <div class="form-group">
        <%= f.label :category_id, "Category" %>
        <%= f.collection_select(:category_id, Category.all, :id, :name, prompt: true) %>

        <div class="error-explanation">
          <ul>
            <% product.errors.full_messages_for(:category_id).each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>

      </div>            

      <% if product.persisted? %>
        <div class="pull-right">
          <%= link_to 'Delete Product', admin_product_path(product.id), method: :delete, data: { confirm: "Are you sure?" }  %>
        </div>
      <% end %>

      <%= f.submit %>
      
  <% end %>
</div>